(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{1026:(e,t,l)=>{Promise.resolve().then(l.bind(l,5243))},5243:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>c});var a=l(5155),i=l(2115),r=l(8888);let n=e=>{let{events:t=[]}=e,[l,n]=(0,i.useState)(null);return(0,i.useEffect)(()=>{let e=e=>{e.target.closest(".timeline-event")||n(null)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]),(0,a.jsxs)("div",{className:"relative w-full overflow-x-auto py-12 px-6",children:[(0,a.jsx)("div",{className:"absolute top-1/2 left-0 w-full h-1 bg-gradient-to-r from-purple-500 to-purple-700"}),(0,a.jsx)("div",{className:"flex items-center justify-center w-full relative space-x-24",children:t.slice(0,6).map((e,t)=>(0,a.jsxs)(r.P.div,{className:"relative flex flex-col items-center timeline-event",children:[(0,a.jsxs)(r.P.div,{className:"relative bg-gray-800 text-white px-6 py-4 rounded-xl shadow-lg cursor-pointer\n                         transition-all duration-300 hover:bg-purple-600 hover:scale-110 \n                         ".concat(l===t?"bg-purple-700 scale-110":""),onClick:e=>{e.stopPropagation(),n(l===t?null:t)},animate:l===t?{scale:1.1}:{scale:1},children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-center",children:e.year}),(0,a.jsx)("p",{className:"text-sm text-center",children:e.shortDescription})]}),l===t&&(0,a.jsxs)(r.P.div,{className:"absolute top-24 w-80 bg-gray-900 text-white p-4 rounded-xl shadow-lg z-10 border border-purple-500",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[(0,a.jsx)("h3",{className:"text-lg font-bold",children:e.year}),(0,a.jsx)("p",{className:"text-sm",children:e.longDescription})]})]},t))})]})};var s=l(78),o=l.n(s);function c(){let[e,t]=(0,i.useState)(""),[l,s]=(0,i.useState)([]),[c,d]=(0,i.useState)(!1),[u,p]=(0,i.useState)(null),x=(0,i.useRef)(null),m=async()=>{if(!e.trim()){p("Please enter a scenario.");return}d(!0),p(null);try{let t=await fetch("/api/generate-timeline",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tool:"timeline-divergence",prompt:e})});if(!t.ok)throw Error("Failed to generate timeline.");let l=await t.json();s(l.timeline)}catch(e){console.error("❌ Error generating timeline:",e),p("Failed to generate timeline. Please try again.")}finally{d(!1)}},h=async()=>{x.current&&setTimeout(async()=>{let e=await o()(x.current,{scale:2,useCORS:!0}),t=document.createElement("a");t.href=e.toDataURL("image/jpeg"),t.download="timeline.jpg",t.click()},500)};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-950 text-white py-10 flex flex-col items-center px-6",children:[(0,a.jsx)(r.P.h1,{className:"text-5xl font-extrabold text-purple-500 mb-6 text-center",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5},children:"Timeline Divergence"}),(0,a.jsx)("p",{className:"text-lg text-gray-400 text-center mb-8",children:"Explore alternate histories and discover what could have been."}),(0,a.jsxs)("div",{className:"w-full max-w-2xl bg-gray-900 p-6 rounded-2xl shadow-lg border border-purple-600",children:[(0,a.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Enter a scenario (e.g., What if Rome never fell?)",className:"w-full px-6 py-4 rounded-lg bg-gray-800 text-white text-lg    border border-gray-700 placeholder-gray-400   focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all"}),(0,a.jsx)(r.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:m,disabled:c,className:"w-full mt-5 bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg    font-semibold text-lg shadow-md transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Generating...":"Generate Timeline"})]}),u&&(0,a.jsx)(r.P.p,{className:"text-red-500 text-center mt-4",initial:{opacity:0},animate:{opacity:1},children:u}),l.length>0&&(0,a.jsx)(r.P.div,{className:"mt-8 w-full",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,a.jsx)("div",{className:"w-full overflow-x-auto",ref:x,children:(0,a.jsx)("div",{className:"min-w-max flex justify-center",children:(0,a.jsx)(n,{events:l})})})}),l.length>0&&(0,a.jsx)("button",{onClick:h,className:"mt-6 px-4 py-2 bg-blue-500 text-white rounded-lg shadow-md hover:bg-blue-600",children:"Download Timeline"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[316,888,441,517,358],()=>t(1026)),_N_E=e.O()}]);